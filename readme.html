<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>readme</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="ee450-project">EE450 Project</h1>
<pre><code>
				Name: Kartik Hakim

				USC ID: 9520-8829-28

				Extra Credit Section : Done

</code></pre>
<h1 id="project-flow-chart">Project flow chart:</h1>
<pre class=" language-mermaid"><svg id="mermaid-svg-v0g0KnBpUUrk47XC" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="256.15625" style="max-width: 679.5625px;" viewBox="0 0 679.5625 256.15625"><style>#mermaid-svg-v0g0KnBpUUrk47XC{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-v0g0KnBpUUrk47XC .error-icon{fill:#552222;}#mermaid-svg-v0g0KnBpUUrk47XC .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-v0g0KnBpUUrk47XC .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-v0g0KnBpUUrk47XC .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-v0g0KnBpUUrk47XC .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-v0g0KnBpUUrk47XC .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-v0g0KnBpUUrk47XC .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-v0g0KnBpUUrk47XC .marker{fill:#666;stroke:#666;}#mermaid-svg-v0g0KnBpUUrk47XC .marker.cross{stroke:#666;}#mermaid-svg-v0g0KnBpUUrk47XC svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-v0g0KnBpUUrk47XC .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-v0g0KnBpUUrk47XC .cluster-label text{fill:#333;}#mermaid-svg-v0g0KnBpUUrk47XC .cluster-label span{color:#333;}#mermaid-svg-v0g0KnBpUUrk47XC .label text,#mermaid-svg-v0g0KnBpUUrk47XC span{fill:#000000;color:#000000;}#mermaid-svg-v0g0KnBpUUrk47XC .node rect,#mermaid-svg-v0g0KnBpUUrk47XC .node circle,#mermaid-svg-v0g0KnBpUUrk47XC .node ellipse,#mermaid-svg-v0g0KnBpUUrk47XC .node polygon,#mermaid-svg-v0g0KnBpUUrk47XC .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-v0g0KnBpUUrk47XC .node .label{text-align:center;}#mermaid-svg-v0g0KnBpUUrk47XC .node.clickable{cursor:pointer;}#mermaid-svg-v0g0KnBpUUrk47XC .arrowheadPath{fill:#333333;}#mermaid-svg-v0g0KnBpUUrk47XC .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-v0g0KnBpUUrk47XC .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-v0g0KnBpUUrk47XC .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-v0g0KnBpUUrk47XC .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-v0g0KnBpUUrk47XC .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-v0g0KnBpUUrk47XC .cluster text{fill:#333;}#mermaid-svg-v0g0KnBpUUrk47XC .cluster span{color:#333;}#mermaid-svg-v0g0KnBpUUrk47XC div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-v0g0KnBpUUrk47XC:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-v0g0KnBpUUrk47XC flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-B LE-A" id="L-B-A" style="opacity: 1;"><path class="path" d="M69.015625,128.078125L167.20703125,128.078125L265.3984375,128.078125" marker-end="url(https://stackedit.io/app#arrowhead9)" style="fill:none"></path><defs><marker id="arrowhead9" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g><g class="edgePath LS-A LE-C" id="L-A-C" style="opacity: 1;"><path class="path" d="M318.33767606522616,104.71875L365.953125,31.359375L465.5234375,31.359375L565.09375,31.359375L593.94140625,31.359375" marker-end="url(https://stackedit.io/app#arrowhead10)" style="fill:none"></path><defs><marker id="arrowhead10" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g><g class="edgePath LS-A LE-D" id="L-A-D" style="opacity: 1;"><path class="path" d="M340.953125,128.078125L365.953125,128.078125L465.5234375,128.078125L565.09375,128.078125L590.09375,128.078125" marker-end="url(https://stackedit.io/app#arrowhead11)" style="fill:none"></path><defs><marker id="arrowhead11" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g><g class="edgePath LS-A LE-E" id="L-A-E" style="opacity: 1;"><path class="path" d="M318.33767606522616,151.4375L365.953125,224.796875L465.5234375,224.796875L565.09375,224.796875L590.15625,224.796875" marker-end="url(https://stackedit.io/app#arrowhead12)" style="fill:none"></path><defs><marker id="arrowhead12" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(167.20703125,128.078125)" style="opacity: 1;"><g transform="translate(-73.19140625,-26.71875)" class="label"><rect rx="0" ry="0" width="146.3828125" height="53.4375"></rect><foreignObject width="146.3828125" height="53.4375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-B-A" class="edgeLabel L-LS-B' L-LE-A">tcpServerPort:25928<br>udpClientPort:24928</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(465.5234375,31.359375)" style="opacity: 1;"><g transform="translate(-74.5703125,-13.359375)" class="label"><rect rx="0" ry="0" width="149.140625" height="26.71875"></rect><foreignObject width="149.140625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-A-C" class="edgeLabel L-LS-A' L-LE-C">udpServerPort:21928</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(465.5234375,128.078125)" style="opacity: 1;"><g transform="translate(-74.5703125,-13.359375)" class="label"><rect rx="0" ry="0" width="149.140625" height="26.71875"></rect><foreignObject width="149.140625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-A-D" class="edgeLabel L-LS-A' L-LE-D">udpServerPort:23928</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(465.5234375,224.796875)" style="opacity: 1;"><g transform="translate(-71.3984375,-13.359375)" class="label"><rect rx="0" ry="0" width="142.796875" height="26.71875"></rect><foreignObject width="142.796875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-A-E" class="edgeLabel L-LS-A' L-LE-E">udpServerPor:22928</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-B-40" transform="translate(38.5078125,128.078125)" style="opacity: 1;"><circle x="-30.5078125" y="-23.359375" r="30.5078125" class="label-container"></circle><g class="label" transform="translate(0,0)"><g transform="translate(-20.5078125,-13.359375)"><foreignObject width="41.015625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">client</div></foreignObject></g></g></g><g class="node default" id="flowchart-A-41" transform="translate(303.17578125,128.078125)" style="opacity: 1;"><rect rx="0" ry="0" x="-37.77734375" y="-23.359375" width="75.5546875" height="46.71875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-27.77734375,-13.359375)"><foreignObject width="55.5546875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">serverM</div></foreignObject></g></g></g><g class="node default" id="flowchart-C-43" transform="translate(630.828125,31.359375)" style="opacity: 1;"><rect rx="0" ry="0" x="-36.88671875" y="-23.359375" width="73.7734375" height="46.71875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-26.88671875,-13.359375)"><foreignObject width="53.7734375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">serverC</div></foreignObject></g></g></g><g class="node default" id="flowchart-D-45" transform="translate(630.828125,128.078125)" style="opacity: 1;"><rect rx="0" ry="0" x="-40.734375" y="-23.359375" width="81.46875" height="46.71875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-30.734375,-13.359375)"><foreignObject width="61.46875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">serverCS</div></foreignObject></g></g></g><g class="node default" id="flowchart-E-47" transform="translate(630.828125,224.796875)" style="opacity: 1;"><rect rx="0" ry="0" x="-40.671875" y="-23.359375" width="81.34375" height="46.71875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-30.671875,-13.359375)"><foreignObject width="61.34375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">serverEE</div></foreignObject></g></g></g></g></g></g></svg></pre>
<h1 id="what-have-i-done-in-this-assignment">What have I done in this assignment?</h1>
<p>In this socket-programming project using <code>CPP</code> language, I implemented the simulation of a web registration process.</p>
<p>In this process, a client will enter the course code and category of the information he/she wishes to retrieve.</p>
<p>This <code>client</code> will communicate with <code>serverM</code> process, which in turn will communicate with credential (<code>serverC</code>) and <em>backend servers</em> (<code>serverEE</code>, <code>serverCS</code>) .</p>
<p>I tested all code both on my local Mac (M2 chip) and studentVM (ubuntu 16).</p>
<h1 id="comments">Comments</h1>
<blockquote>
<p>Idiosyncrasies of the project</p>
</blockquote>
<p>Please keep following suggestions in mind while testing:</p>
<ol>
<li>
<p><strong>Please prefer reading from readme.html</strong>.</p>
</li>
<li>
<p>If while testing client is stopped or gets stuck, please <strong>restart</strong> all processes, it should start working fine.</p>
</li>
<li>
<p>Please make sure course-ids are inputted in the syntax mentioned in <em><strong>How to run the programs</strong></em> section</p>
</li>
<li>
<p>If while testing, authentication is failing, please restart client, serverM and serverC.</p>
</li>
<li>
<p>If <code>serverM</code> exits with following error</p>
</li>
</ol>
<pre><code>
libc++abi: terminating with uncaught exception of type std::out_of_range: basic_string

zsh: abort ./serverM

</code></pre>
<p>Please <strong>restart</strong>  <code>client</code> , <code>serverC</code>and <code>serverM</code> processes.</p>
<ol start="6">
<li>Sometimes the I/O  buffers will not read properly, so the messages will not be printed properly on the console.</li>
</ol>
<pre><code>james sent a request to the main server.
The client received the response from the Main server using TCP over port 52446.
.he CourseName of EE450 is Introduction to Computer Networks
</code></pre>
<pre><code>The ServerEE received a request from the Main Server about the CourseName of EE450.
The course information has been found: The CourseName of EE450 is Introduction to . mputer Networks
The ServerEE finished sending the response to the Main Server.
</code></pre>
<p>It should get fixed by restarting all 5 processes.</p>
<h2 id="how-to-run-the-programs">How to run the programs</h2>
<p>Please start the 5 processes in following format:-</p>
<ol>
<li>
<p>First open 5 different terminal window instances.</p>
</li>
<li>
<p>Use one terminal and type <code>make all</code> to compile all the cpp files.</p>
</li>
</ol>
<pre><code>
ee450_hakim_kartik_9520882928 % make all

g++ -std=c++11 -shared-libgcc serverM.cpp -o serverM

g++ -std=c++11 -shared-libgcc serverC.cpp -o serverC

g++ -std=c++11 -shared-libgcc serverEE.cpp -o serverEE

g++ -std=c++11 -shared-libgcc serverCS.cpp -o serverCS

g++ -std=c++11 -shared-libgcc client.cpp -o client

ee450_hakim_kartik_9520882928 %

</code></pre>
<ol start="3">
<li>Start the processes in following order</li>
</ol>
<br>
<p>Terminal 1: <code>./serverEE</code></p>
<p>Terminal 2: <code>./serverCS</code></p>
<p>Terminal 3: <code>./serverC</code></p>
<p>Terminal 4: <code>./serverM</code></p>
<p>Terminal 5: <code>./client</code></p>
<ol start="4">
<li>Input syntax in terminal 1, for client process:</li>
</ol>
<ul>
<li>While entering username and password:</li>
</ul>
<pre><code>
ee450_hakim_kartik_9520882928 % ./client

The client is up and running.

  

Please enter the username: james

Please enter the password: Th!r3oe4s

james sent an authentication request to the main server.

james received the result of authentication using TCP over port 51750. Authentication failed: Password does not match.

Attempts remaining: 2

  

Please enter the username: amber

Please enter the password: cOntra4@positiv1e

amber sent an authentication request to the main server.

amber received the result of authentication using TCP over port 51759. Authentication failed: Password does not match.

Attempts remaining: 1

  

Please enter the username: james

Please enter the password: 2kAnsa7s)

james sent an authentication request to the main server.

james received the result of authentication using TCP over port 51767. Authentication is successful

</code></pre>
<ul>
<li>While entering single course-ids</li>
</ul>
<pre><code>
Please enter the course code to query: EE450

Please enter the category(Credit / Professor / Days / CourseName): Days

james sent a request to the main server.

The client received the response from the Main server using TCP over port 51767.

The Days of EE450 is Tue;Thu

</code></pre>
<ul>
<li>While entering multiple course-ids</li>
</ul>
<pre><code>
Please enter the course code to query: EE450 CS100 EE520

james sent a request to the main server.

The client received the response from the Main server using TCP over port 52001.

CourseCode: Credits, Professor, Days, Course Name

EE450: 4,Ali Zahid,Tue;Thu,Introduction to Computer Networks

CS100: 4,Sathyanaraya Raghavachary,Tue;Thu,Explorations in Computing

EE520: 4,Todd Brun,Tue;Thu,Introduction to Quantum Information Processing

</code></pre>
<p><strong>Incorrect way of input</strong></p>
<ul>
<li>
<p>DO NOT ENTER UNEXPECTED SPACES</p>
</li>
<li>
<p>END ALL LINES USING NEWLINE CHARACTERS</p>
</li>
</ul>
<pre><code>
Please enter the course code to query: EE450 CS100

EE520

james sent a request to the main server.

The client received the response from the Main server using TCP over port 52029.

CourseCode: Credits, Professor, Days, Course Name

EE450: 4,Ali Zahid,Tue;Thu,Introduction to Computer Networks

CS100: 4,Sathyanaraya Raghavachary,Tue;Thu,Explorations in Computing

EE520: 4,Todd Brun,Tue;Thu,Introduction to Quantum Information Processing

</code></pre>
<pre><code>
Please enter the course code to query: EE450

  
  
  
  
  
  

EE520

james sent a request to the main server.

The client received the response from the Main server using TCP over port 52030.

CourseCode: Credits, Professor, Days, Course Name

EE450: 4,Ali Zahid,Tue;Thu,Introduction to Computer Networks

EE520: 4,Todd Brun,Tue;Thu,Introduction to Quantum Information Processing

  

-----Start a new request-----

  

Please enter the course code to query:

</code></pre>
<h2 id="implementations">Implementations</h2>
<blockquote>
<p>What your code files are and what each one of them does</p>
</blockquote>
<h4 id="client"><code>client</code></h4>
<p>The workflow of <code>client</code> is as follows:</p>
<ol>
<li>
<p>client process start a <strong>TCP</strong> socket and uses a dynamically assigned port number.</p>
</li>
<li>
<p>Enter the username and password.</p>
</li>
<li>
<p>The given username and password (say u1,p1), are appended in a string template <code>username:&lt;u1&gt;,password:&lt;p1&gt;</code>.</p>
</li>
<li>
<p>This template is sent via TCP to <code>serverM</code>.</p>
</li>
<li>
<p>The serverM checks with <code>serverC</code> and responds, via TCP, one of the following strings as response:<br>
*  <code>Username not found</code><br>
*  <code>Username found, Password didnt match</code><br>
* <code>Username verified</code><br>
* <code>Not sure</code></p>
</li>
<li>
<p>If the response is <code>Username verified</code>, client will expect to read course and category and code will move to steps 7-10.</p>
</li>
</ol>
<p>If the response is not <code>Username verified</code>, steps 1-6 will be repeated.</p>
<ol start="7">
<li>
<p>User will enter course code and category(expected values are <code>Credit</code> / <code>Professor</code> / <code>Days</code> / <code>CourseName</code> ), say c1 and c2.</p>
</li>
<li>
<p>Will create a string template <code>course:&lt;c1&gt;,category:&lt;c2&gt;</code> and send to serverM via TCP.</p>
</li>
<li>
<p><code>serverM</code> will check with respective backend servers, via <strong>UDP</strong>, and responds either with the requested information (if the course-code is present in DB) or with string <code>NO_DATA</code> (if the course-code is not present in DB).</p>
</li>
<li>
<p>client will process the response from serverM, via <strong>TCP</strong>, and print appropriate messages on the console.</p>
</li>
</ol>
<h2 id="section"></h2>
<h3 id="serverm"><code>serverM</code></h3>
<p>The workflow of <code>serverM</code>is as follows:</p>
<ol>
<li>
<p>serverM expects to receive a string template of format <code>username:&lt;u1&gt;,password:&lt;p1&gt;</code> from client via <strong>TCP</strong> over port <strong>25928</strong>.</p>
</li>
<li>
<p><code>serverM</code> extracts the username, <code>u1</code> and password, <code>p1</code> from the template and encrypts them.</p>
</li>
<li>
<p>The encrypted username and password, say <code>e1</code> and <code>e2</code>, are sent to <code>serverC</code> via <strong>UDP</strong> over port <strong>24928</strong>.</p>
</li>
<li>
<p><code>serverC</code> replies, via <strong>UDP</strong>, with one of the following strings:<br>
*  <code>Username not found</code><br>
*  <code>Username found, Password didnt match</code><br>
* <code>Username verified</code><br>
* <code>Not sure</code></p>
</li>
<li>
<p><code>serverM</code> forwards these response from <code>serverC</code> to <code>client</code>, via <strong>TCP</strong>.</p>
</li>
<li>
<p>If the <code>serverC</code>, response is <code>Username verified</code>, a flag is set, to expect course-category string template, from <code>client</code>.</p>
</li>
<li>
<p>Once the flag is set, <code>serverM</code> receives client-category template from client.</p>
</li>
<li>
<p><code>serverM</code> will extract course and category, say <code>c1</code> and <code>c2</code>, and based on the first 2 characters of course <code>c1</code> will choose appropriate <em>backend servers</em>.</p>
</li>
<li>
<p><code>serverM</code> will send the string template <code>course:&lt;c1&gt;,category:&lt;c2&gt;</code> to <em>backend servers</em> (<code>serverCS</code> or <code>serverEE</code>) via <strong>UDP</strong> over port, <strong>24928</strong>.</p>
</li>
<li>
<p>Once <code>serverM</code> receives the response, it forwards it to client, via <strong>TCP</strong> over port <strong>25928</strong>.</p>
</li>
</ol>
<h2 id="section-1"></h2>
<h4 id="serverc"><code>serverC</code></h4>
<p>The workflow of <code>serverC</code> is as follows:</p>
<ol>
<li>
<p><code>serverC</code> expects a string containing <code>u1,p1</code> via <strong>UDP</strong> over port <strong>21928</strong>.</p>
</li>
<li>
<p><code>serverC</code> reads the txt file <code>cred.txt</code> and stores in a global map variable.</p>
</li>
<li>
<p>Once we receive the string, we extract <code>u1</code> and <code>p1</code> and look for <code>u1</code> as a <strong>key</strong> in the global map.</p>
</li>
<li>
<p>If <code>u1</code> is found in the map, we check <code>p1</code> is similar to password stored in map.</p>
</li>
<li>
<p>Based on both the comparison, a string response is selected:<br>
*  <code>Username not found</code><br>
*  <code>Username found, Password didnt match</code><br>
* <code>Username verified</code><br>
* <code>Not sure</code></p>
</li>
<li>
<p>This string response is replied back to <code>serverM</code>.</p>
</li>
</ol>
<h2 id="section-2"></h2>
<h4 id="servercsee"><code>serverCS/EE</code></h4>
<p>The workflow of backend servers (<code>serverEE</code>/<code>serverCS</code>) is as follows:</p>
<ol>
<li>
<p><code>serverEE/CS</code> expects a string containing <code>course:&lt;c1&gt;,category:&lt;c2&gt;</code> via <strong>UDP</strong> over port <strong>23928(serverEE)</strong> or port <strong>22928(serverCS)</strong> from <code>serverM</code>.</p>
</li>
<li>
<p><code>serverEE/CS</code> reads the txt file <code>ee.txt</code> (serverEE) or <code>cs.txt</code> (serverCS) and stores in 4 global map variables (<em>credit / professor name/ course name / credits</em>).</p>
</li>
<li>
<p>Once we receive the string, we extract course id, <code>c1</code>, and course category, <code>c2</code>.</p>
</li>
<li>
<p>Based on <code>c2</code>, category, we select the appropriate map variable, search for course id <code>c1</code>, and store the response as string.</p>
</li>
<li>
<p>If course code is not found, we set the response to <code>NOT_FOUND</code>.</p>
</li>
<li>
<p>We reply back the response to <code>serverM</code>.</p>
</li>
<li>
<p>For <strong>extra credit section</strong>, I set <u>category to <code>everything</code> and read information from all 4 global variable maps and append them in the response variable </u>.</p>
</li>
</ol>
<h2 id="message-formats">Message Formats</h2>

<table>
<thead>
<tr>
<th align="center">code</th>
<th align="right">UserName / Password</th>
<th align="right">CourseCategory</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">client</td>
<td align="right"><code>username:u1,password:p1</code></td>
<td align="right"><code>course:c1,category:c2</code></td>
</tr>
<tr>
<td align="center">serverM</td>
<td align="right"><code>username:eU1,password:eP1</code></td>
<td align="right"><code>course:c1,category:c2</code></td>
</tr>
<tr>
<td align="center">serverC</td>
<td align="right"><code>username:eU1,password:eP1</code></td>
<td align="right">NA</td>
</tr>
<tr>
<td align="center">serverCS</td>
<td align="right">NA</td>
<td align="right"><code>c1,c2</code></td>
</tr>
<tr>
<td align="center">serverEE</td>
<td align="right">NA</td>
<td align="right"><code>c1,c2</code></td>
</tr>
</tbody>
</table><p>where:<br>
u1 : username entered on client terminal<br>
p1 : password enter on client terminal<br>
eU1: encrypted username sent by serverM to serverC<br>
eP1 : encrypted password sent by serverM to serverC<br>
c1 : course id entered on client terminal sent by client to serverM to backend servers<br>
c2 : course category entered on client terminal by client to serverM to backend servers</p>
<h2 id="reused-code">Reused Code</h2>
<ul>
<li><a href="https://beej.us/guide/bgnet/pdf/bgnet_usl_c_1.pdf">Beej</a></li>
</ul>
<p>For example</p>
<p><br>from section 6.5:-</p>
<pre><code>
int sockfd, rv, numbytes;

  

struct addrinfo hints, *servinfo, *p;

  

struct sockaddr_storage their_addr;

  

  

socklen_t addr_len;

  

char s[INET6_ADDRSTRLEN];

  

memset(&amp;hints, 0, sizeof hints);

  

hints.ai_family = AF_INET6;

  

hints.ai_socktype = SOCK_DGRAM;

  

//hints.ai_flags = AI_PASSIVE; // use my IP

  

hints.ai_flags = INADDR_ANY; // using localhost as IP

  

if ((rv = getaddrinfo(NULL, MY_UDP_PORT, &amp;hints, &amp;servinfo)) != 0)

  

{

  

fprintf(stderr, "getaddrinfo: %s\n", gai_strerror(rv));

  

exit(2);

  

}

  

  

// loop through all the results and bind to the first we can

  

for (p = servinfo; p != NULL; p = p-&gt;ai_next)

  

{

  

if ((sockfd = socket(p-&gt;ai_family, p-&gt;ai_socktype, p-&gt;ai_protocol)) == -1)

  

{

  

perror("serverEE : socket");

  

continue;

  

}

  

  

if (::bind(sockfd, p-&gt;ai_addr, p-&gt;ai_addrlen) == -1)

  

{

  

close(sockfd);

  

perror("bind failed in serverEE, will try another socket");

  

continue;

  

}

  

  

break;

  

}

  

  

if (p == NULL)

  

{

  

fprintf(stderr, "bind failed in serverEE\n");

  

exit(2);

  

}

  

  

freeaddrinfo(servinfo);

</code></pre>
<ul>
<li><a href="https://www.linuxhowtos.org/C_C++/socket.htm">LinuxHowTo</a></li>
</ul>
<p>For example:-</p>
<pre><code>
read(newsockfd,buffer,255)

</code></pre>
<pre><code>
if (connect(sockfd,&amp;serv_addr,sizeof(serv_addr)) &lt; 0)

error("ERROR connecting");

</code></pre>
<ul>
<li><a href="https://www.geeksforgeeks.org/socket-programming-cc/">GeeksForGeeks</a></li>
</ul>
<pre><code>
int sockfd = socket(domain, type, protocol) ;

  

int bind(int sockfd, const struct sockaddr *addr, socklen_t addrlen) ;

  

int new_socket= accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);

</code></pre>
<ul>
<li><a href="https://www.tutorialspoint.com/parsing-a-comma-delimited-std-string-in-cplusplus">TutorialsPoint</a></li>
</ul>
<pre><code>
vector&lt;string&gt; result;

  

stringstream s_stream(my_str); //create string stream from the string

while (s_stream.good())

  

{

string substr;

getline(s_stream, substr, ','); //get first string delimited by comma

result.push_back(substr);

}

  

</code></pre>
<ul>
<li><a href="https://stackoverflow.com/questions/216823/how-to-trim-an-stdstring">StackOverflow</a></li>
</ul>
<pre><code>
void ltrim(string &amp;s) {

  

s.erase(s.begin(), find_if(s.begin(), s.end(), [](unsigned char ch) {

  

return !std::isspace(ch);

  

}));

  

}

  

  

// trim from end (in place)

  

void rtrim(string &amp;s) {

  

s.erase(find_if(s.rbegin(), s.rend(), [](unsigned char ch) {

  

return !std::isspace(ch);

  

}).base(), s.end());

  

}

  

  

// trim from both ends (in place)

  

void trim(string &amp;s) {

  

ltrim(s);

  

rtrim(s);

  

}

</code></pre>
<h2 id="extra-files">Extra files</h2>
<ul>
<li>
<p><code>stringUtil.h</code> : custom header file having string trimming code for given input string.</p>
</li>
<li>
<p><code>codec.h</code> : custom header having encryption / decryption code for credential verification.</p>
</li>
</ul>
</div>
</body>

</html>
